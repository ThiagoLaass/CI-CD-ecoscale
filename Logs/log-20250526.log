2025-05-26 01:34:01.034 -03:00 [ERR] An error occurred using the connection to database 'ecoscale' on server 'tcp://localhost:5432'.
2025-05-26 01:34:01.607 -03:00 [INF] Executed DbCommand (299ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE ecoscale;
2025-05-26 01:34:01.800 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 01:34:01.808 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 01:34:01.811 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 01:34:01.817 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 01:34:01.831 -03:00 [INF] Applying migration '20250525045957_fix_relatorio'.
2025-05-26 01:34:01.872 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE email_confirmacao (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    num_codigo text NOT NULL,
    boo_confirmado boolean NOT NULL,
    boo_excluido boolean NOT NULL,
    ref_id text NOT NULL,
    expires_at timestamp with time zone NOT NULL,
    created_at timestamp with time zone NOT NULL,
    CONSTRAINT "PK_email_confirmacao" PRIMARY KEY ("Id")
);
2025-05-26 01:34:01.878 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE notificacao (
    notificacao_id integer GENERATED BY DEFAULT AS IDENTITY,
    mensagem text NOT NULL,
    boo_lida boolean NOT NULL,
    CONSTRAINT "PK_notificacao" PRIMARY KEY (notificacao_id)
);
2025-05-26 01:34:01.883 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE planilha (
    planilha_id integer GENERATED BY DEFAULT AS IDENTITY,
    boo_excluido boolean NOT NULL,
    CONSTRAINT "PK_planilha" PRIMARY KEY (planilha_id)
);
2025-05-26 01:34:01.888 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE recomendacoes (
    recomendacoes_id integer GENERATED BY DEFAULT AS IDENTITY,
    arr_projetos_1_ano text[] NOT NULL,
    arr_quick_wins_90d text[] NOT NULL,
    arr_transformacoes_estrategicas text[] NOT NULL,
    CONSTRAINT "PK_recomendacoes" PRIMARY KEY (recomendacoes_id)
);
2025-05-26 01:34:01.893 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE responsavel_empresa (
    responsavel_empresa_id integer GENERATED BY DEFAULT AS IDENTITY,
    nome text NOT NULL,
    telefone text NOT NULL,
    cpf text NOT NULL,
    CONSTRAINT "PK_responsavel_empresa" PRIMARY KEY (responsavel_empresa_id)
);
2025-05-26 01:34:01.899 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE usuario (
    usuario_id integer GENERATED BY DEFAULT AS IDENTITY,
    email text NOT NULL,
    senha text NOT NULL,
    boo_email_confirmado boolean NOT NULL,
    role integer NOT NULL,
    CONSTRAINT "PK_usuario" PRIMARY KEY (usuario_id)
);
2025-05-26 01:34:01.909 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE area_planilha (
    area_planilha_id integer GENERATED BY DEFAULT AS IDENTITY,
    nom_area text NOT NULL,
    planilha_id integer,
    CONSTRAINT "PK_area_planilha" PRIMARY KEY (area_planilha_id),
    CONSTRAINT "FK_area_planilha_planilha_planilha_id" FOREIGN KEY (planilha_id) REFERENCES planilha (planilha_id)
);
2025-05-26 01:34:01.915 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE empresa (
    usuario_id integer NOT NULL,
    cnpj text NOT NULL,
    razao_social text NOT NULL,
    num_telefone text NOT NULL,
    endereco_sede text NOT NULL,
    foto_perfil bytea,
    foto_perfil_mime text,
    dsc_empresa text,
    dsc_contexto text,
    setor_atuacao text,
    boo_removida boolean NOT NULL,
    responsavel_id integer NOT NULL,
    CONSTRAINT "PK_empresa" PRIMARY KEY (usuario_id),
    CONSTRAINT "FK_empresa_responsavel_empresa_responsavel_id" FOREIGN KEY (responsavel_id) REFERENCES responsavel_empresa (responsavel_empresa_id) ON DELETE CASCADE,
    CONSTRAINT "FK_empresa_usuario_usuario_id" FOREIGN KEY (usuario_id) REFERENCES usuario (usuario_id) ON DELETE CASCADE
);
2025-05-26 01:34:01.921 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE moderador (
    usuario_id integer NOT NULL,
    nome text NOT NULL,
    CONSTRAINT "PK_moderador" PRIMARY KEY (usuario_id),
    CONSTRAINT "FK_moderador_usuario_usuario_id" FOREIGN KEY (usuario_id) REFERENCES usuario (usuario_id) ON DELETE CASCADE
);
2025-05-26 01:34:01.928 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE tema_planilha (
    tema_planilha_id integer GENERATED BY DEFAULT AS IDENTITY,
    nom_tema text NOT NULL,
    area_planilha_id integer,
    CONSTRAINT "PK_tema_planilha" PRIMARY KEY (tema_planilha_id),
    CONSTRAINT "FK_tema_planilha_area_planilha_area_planilha_id" FOREIGN KEY (area_planilha_id) REFERENCES area_planilha (area_planilha_id)
);
2025-05-26 01:34:01.932 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE questionario (
    questionario_id integer GENERATED BY DEFAULT AS IDENTITY,
    boo_excluido boolean NOT NULL,
    empresa_id integer NOT NULL,
    CONSTRAINT "PK_questionario" PRIMARY KEY (questionario_id),
    CONSTRAINT "FK_questionario_empresa_empresa_id" FOREIGN KEY (empresa_id) REFERENCES empresa (usuario_id) ON DELETE CASCADE
);
2025-05-26 01:34:01.940 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE relatorio (
    relatorio_id integer GENERATED BY DEFAULT AS IDENTITY,
    empresa_cnpj integer NOT NULL,
    "RevisorId" integer,
    boo_revisado boolean NOT NULL,
    nota double precision NOT NULL,
    dsc_diagnostico text NOT NULL,
    arr_pontos_criticos text[] NOT NULL,
    arr_pontos_fortes text[] NOT NULL,
    recomendacoes_id integer NOT NULL,
    CONSTRAINT "PK_relatorio" PRIMARY KEY (relatorio_id),
    CONSTRAINT "FK_relatorio_empresa_empresa_cnpj" FOREIGN KEY (empresa_cnpj) REFERENCES empresa (usuario_id) ON DELETE CASCADE,
    CONSTRAINT "FK_relatorio_moderador_RevisorId" FOREIGN KEY ("RevisorId") REFERENCES moderador (usuario_id),
    CONSTRAINT "FK_relatorio_recomendacoes_recomendacoes_id" FOREIGN KEY (recomendacoes_id) REFERENCES recomendacoes (recomendacoes_id) ON DELETE CASCADE
);
2025-05-26 01:34:01.948 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE criterio_planilha (
    criterio_planilha_id integer GENERATED BY DEFAULT AS IDENTITY,
    nom_criterio text NOT NULL,
    tema_planilha_id integer,
    CONSTRAINT "PK_criterio_planilha" PRIMARY KEY (criterio_planilha_id),
    CONSTRAINT "FK_criterio_planilha_tema_planilha_tema_planilha_id" FOREIGN KEY (tema_planilha_id) REFERENCES tema_planilha (tema_planilha_id)
);
2025-05-26 01:34:01.955 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE area (
    area_id integer GENERATED BY DEFAULT AS IDENTITY,
    nom_area text NOT NULL,
    questionario_id integer,
    CONSTRAINT "PK_area" PRIMARY KEY (area_id),
    CONSTRAINT "FK_area_questionario_questionario_id" FOREIGN KEY (questionario_id) REFERENCES questionario (questionario_id)
);
2025-05-26 01:34:01.962 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE req_avaliacao (
    req_avaliacao_id integer GENERATED BY DEFAULT AS IDENTITY,
    relatorio_id integer NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    em_aberto boolean NOT NULL,
    avaliado boolean NOT NULL,
    motivo text NOT NULL,
    CONSTRAINT "PK_req_avaliacao" PRIMARY KEY (req_avaliacao_id),
    CONSTRAINT "FK_req_avaliacao_relatorio_relatorio_id" FOREIGN KEY (relatorio_id) REFERENCES relatorio (relatorio_id) ON DELETE CASCADE
);
2025-05-26 01:34:01.970 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE item_avaliado_planilha (
    item_avaliado_planilha_id integer GENERATED BY DEFAULT AS IDENTITY,
    dsc_item text NOT NULL,
    criterio_planilha_id integer,
    CONSTRAINT "PK_item_avaliado_planilha" PRIMARY KEY (item_avaliado_planilha_id),
    CONSTRAINT "FK_item_avaliado_planilha_criterio_planilha_criterio_planilha_~" FOREIGN KEY (criterio_planilha_id) REFERENCES criterio_planilha (criterio_planilha_id)
);
2025-05-26 01:34:01.976 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE tema (
    tema_id integer GENERATED BY DEFAULT AS IDENTITY,
    nom_tema text NOT NULL,
    area_id integer,
    CONSTRAINT "PK_tema" PRIMARY KEY (tema_id),
    CONSTRAINT "FK_tema_area_area_id" FOREIGN KEY (area_id) REFERENCES area (area_id)
);
2025-05-26 01:34:01.983 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE criterio (
    criterio_id integer GENERATED BY DEFAULT AS IDENTITY,
    nom_criterio text NOT NULL,
    tema_id integer,
    CONSTRAINT "PK_criterio" PRIMARY KEY (criterio_id),
    CONSTRAINT "FK_criterio_tema_tema_id" FOREIGN KEY (tema_id) REFERENCES tema (tema_id)
);
2025-05-26 01:34:01.988 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE item_avaliado (
    item_avaliado_id integer GENERATED BY DEFAULT AS IDENTITY,
    dsc_item text NOT NULL,
    resposta text,
    criterio_id integer,
    CONSTRAINT "PK_item_avaliado" PRIMARY KEY (item_avaliado_id),
    CONSTRAINT "FK_item_avaliado_criterio_criterio_id" FOREIGN KEY (criterio_id) REFERENCES criterio (criterio_id)
);
2025-05-26 01:34:01.993 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_area_questionario_id" ON area (questionario_id);
2025-05-26 01:34:01.996 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_area_planilha_planilha_id" ON area_planilha (planilha_id);
2025-05-26 01:34:02.000 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_criterio_tema_id" ON criterio (tema_id);
2025-05-26 01:34:02.004 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_criterio_planilha_tema_planilha_id" ON criterio_planilha (tema_planilha_id);
2025-05-26 01:34:02.006 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_empresa_responsavel_id" ON empresa (responsavel_id);
2025-05-26 01:34:02.010 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_item_avaliado_criterio_id" ON item_avaliado (criterio_id);
2025-05-26 01:34:02.013 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_item_avaliado_planilha_criterio_planilha_id" ON item_avaliado_planilha (criterio_planilha_id);
2025-05-26 01:34:02.017 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_questionario_empresa_id" ON questionario (empresa_id);
2025-05-26 01:34:02.021 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_relatorio_empresa_cnpj" ON relatorio (empresa_cnpj);
2025-05-26 01:34:02.026 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_relatorio_recomendacoes_id" ON relatorio (recomendacoes_id);
2025-05-26 01:34:02.030 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_relatorio_RevisorId" ON relatorio ("RevisorId");
2025-05-26 01:34:02.035 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_req_avaliacao_relatorio_id" ON req_avaliacao (relatorio_id);
2025-05-26 01:34:02.038 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_tema_area_id" ON tema (area_id);
2025-05-26 01:34:02.041 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_tema_planilha_area_planilha_id" ON tema_planilha (area_planilha_id);
2025-05-26 01:34:02.046 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_usuario_email" ON usuario (email);
2025-05-26 01:34:02.050 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250525045957_fix_relatorio', '9.0.3');
2025-05-26 01:34:02.053 -03:00 [INF] Applying migration '20250525050556_fix_empresa_relation'.
2025-05-26 01:34:02.074 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE relatorio DROP CONSTRAINT "FK_relatorio_empresa_empresa_cnpj";
2025-05-26 01:34:02.076 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE relatorio RENAME COLUMN empresa_cnpj TO empresa_id;
2025-05-26 01:34:02.077 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_relatorio_empresa_cnpj" RENAME TO "IX_relatorio_empresa_id";
2025-05-26 01:34:02.083 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE relatorio ADD CONSTRAINT "FK_relatorio_empresa_empresa_id" FOREIGN KEY (empresa_id) REFERENCES empresa (usuario_id) ON DELETE CASCADE;
2025-05-26 01:34:02.085 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250525050556_fix_empresa_relation', '9.0.3');
2025-05-26 01:54:22.066 -03:00 [INF] Swagger UI available at http://localhost:5051/swagger/index.html
2025-05-26 01:54:22.149 -03:00 [INF] Server starting and listening on http://0.0.0.0:5051
2025-05-26 01:54:22.168 -03:00 [INF] User profile is available. Using 'C:\Users\thiag\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 01:54:22.296 -03:00 [INF] Now listening on: http://0.0.0.0:5051
2025-05-26 01:54:22.298 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 01:54:22.299 -03:00 [INF] Hosting environment: Development
2025-05-26 01:54:22.299 -03:00 [INF] Content root path: G:\repos\pmg-es-2025-1-ti4-3170100-pesquisa-bh-tec\Codigo\Backend\EcoScale
2025-05-26 01:54:36.734 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/index.html - null null
2025-05-26 01:54:36.874 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/index.html - 200 null text/html;charset=utf-8 140.2719ms
2025-05-26 01:54:36.973 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/swagger-ui.css - null null
2025-05-26 01:54:36.973 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/swagger-ui-bundle.js - null null
2025-05-26 01:54:36.973 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/index.css - null null
2025-05-26 01:54:36.988 -03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-05-26 01:54:36.989 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/index.css - 200 202 text/css 16.5613ms
2025-05-26 01:54:36.992 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-26 01:54:36.993 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/swagger-ui-standalone-preset.js - null null
2025-05-26 01:54:36.994 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/swagger-ui.css - 200 154948 text/css 21.5943ms
2025-05-26 01:54:37.000 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/index.js - null null
2025-05-26 01:54:37.004 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/index.js - 200 null application/javascript;charset=utf-8 3.7605ms
2025-05-26 01:54:37.008 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-26 01:54:37.010 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 17.2717ms
2025-05-26 01:54:37.018 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-26 01:54:37.021 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 48.5311ms
2025-05-26 01:54:37.171 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/v1/swagger.json - null null
2025-05-26 01:54:37.307 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.0851ms
2025-05-26 01:55:07.309 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5051/Auth/login - application/json 69
2025-05-26 01:55:07.312 -03:00 [INF] Request from: []
2025-05-26 01:55:07.363 -03:00 [INF] Executing endpoint 'EcoScale.src.Controllers.AuthController.LoginAsync (EcoScale)'
2025-05-26 01:55:07.378 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(EcoScale.src.Public.DTOs.LoginRequest) on controller EcoScale.src.Controllers.AuthController (EcoScale).
2025-05-26 01:55:09.059 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__request_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.usuario_id, u.email, u.boo_email_confirmado, u.role, u.senha, e.cnpj, e.dsc_contexto, e.dsc_empresa, e.endereco_sede, e.foto_perfil_mime, e.foto_perfil, e.boo_removida, e.num_telefone, e.razao_social, e.setor_atuacao, e.responsavel_id, m.nome, CASE
    WHEN m.usuario_id IS NOT NULL THEN 'Moderador'
    WHEN e.usuario_id IS NOT NULL THEN 'Empresa'
END AS "Discriminator"
FROM usuario AS u
LEFT JOIN empresa AS e ON u.usuario_id = e.usuario_id
LEFT JOIN moderador AS m ON u.usuario_id = m.usuario_id
WHERE u.email = @__request_Email_0
LIMIT 2
2025-05-26 01:55:09.075 -03:00 [INF] Executed action EcoScale.src.Controllers.AuthController.LoginAsync (EcoScale) in 1693.4816ms
2025-05-26 01:55:09.077 -03:00 [INF] Executed endpoint 'EcoScale.src.Controllers.AuthController.LoginAsync (EcoScale)'
2025-05-26 01:55:09.091 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5051/Auth/login - 404 null application/json 1782.3855ms
2025-05-26 01:56:09.976 -03:00 [INF] Application is shutting down...
2025-05-26 01:56:14.791 -03:00 [INF] Swagger UI available at http://localhost:5051/swagger/index.html
2025-05-26 01:56:14.859 -03:00 [INF] Server starting and listening on http://0.0.0.0:5051
2025-05-26 01:56:14.876 -03:00 [INF] User profile is available. Using 'C:\Users\thiag\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 01:56:14.929 -03:00 [INF] Now listening on: http://0.0.0.0:5051
2025-05-26 01:56:14.931 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 01:56:14.932 -03:00 [INF] Hosting environment: Development
2025-05-26 01:56:14.932 -03:00 [INF] Content root path: G:\repos\pmg-es-2025-1-ti4-3170100-pesquisa-bh-tec\Codigo\Backend\EcoScale
2025-05-26 01:56:17.152 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/index.html - null null
2025-05-26 01:56:17.250 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/index.html - 200 null text/html;charset=utf-8 98.9157ms
2025-05-26 01:56:17.276 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/index.js - null null
2025-05-26 01:56:17.280 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/index.js - 200 null application/javascript;charset=utf-8 3.7536ms
2025-05-26 01:56:17.345 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/v1/swagger.json - null null
2025-05-26 01:56:17.347 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5051/swagger/favicon-32x32.png - null null
2025-05-26 01:56:17.354 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-26 01:56:17.355 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/favicon-32x32.png - 200 628 image/png 8.3535ms
2025-05-26 01:56:17.461 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5051/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.7631ms
2025-05-26 01:57:13.280 -03:00 [INF] Application is shutting down...
